#parse("/common/util.vm")
<html lang="zh_CN">
<head>
    #parse("/agent/component/init.vm")
    <link rel="stylesheet" href="${path.concat('/material/css/customer/consult_order.css')}"/>
    <title>我的代金券</title>
</head>
<body ontouchstart>
<div class="container">
    <div class="hd">
        <h1 class="page_title">
            我的代金券
        </h1>
    </div>
    <div class="bd weui_tab_bd">
        <div class="weui_cells">
        	#foreach($vouchers in $vouchersList)
        		<div class="weui_panel weui_panel_access order_panel">
	                <div class="weui_panel_hd col1">
	                	#if(${vouchers.type} == "RESGISTER")
	                	 <h4 class="order_id">新注册奖励代金券</h4>
	                	#else
	                   	 <h4 class="order_id">拓展奖励代金券</h4>
	                    #end
	                </div>
	                <div class="weui_panel_bd">
	                    <div class="weui_media_box weui_media_text col2">
	                        <h4 class="weui_media_title goods">领取时间:</h4>
	                        <p class="weui_media_title quantity create_time">${vouchers.createAt}</p>
	                    </div>
	                </div>
	                <div class="weui_panel_bd">
	                    <div class="weui_media_box weui_media_text col2">
	                        <h4 class="weui_media_title goods">金额:</h4>
	
	                        <p class="weui_media_title quantity">${vouchers.price}</p>
	                    </div>
	                </div>
            	</div>
        	#end
        </div>
    </div>
</div>
#parse("/agent/component/navigate.vm")
</body>
<script>
$(function(){
	$.each($(".create_time"), function(i, val){
		var	timeString = (new Date($(val).text())).format("yyyy MM dd");
    	var time = timeString.split(" ");
    	$(val).html(time[0] + "年" + time[1] + "月" + time[2] + "日");
	});
});

Date.prototype.format = function (format) {
    var o = {
        "M+": this.getMonth() + 1,
        // month
        "d+": this.getDate(),
        // day
        "h+": this.getHours(),
        // hour
        "m+": this.getMinutes(),
        // minute
        "s+": this.getSeconds(),
        // second
        "q+": Math.floor((this.getMonth() + 3) / 3),
        // quarter
        "S": this.getMilliseconds()
        // millisecond
    };
    if (/(y+)/.test(format) || /(Y+)/.test(format)) {
        format = format.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    }
    for (var k in o) {
        if (new RegExp("(" + k + ")").test(format)) {
            format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
        }
    }
    return format;
};
</script>
</html>